import{c as f,j as e,r as a,d as D,E as u,G as z,M as m,T as g,D as I,f as h}from"./index-Bi6rx8zx.js";import{B as M}from"./Bookmark-C9JdaQy_.js";const k=f(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),H=f(e.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),F=()=>{const[o,x]=a.useState(!1),{enqueueSnackbar:j}=D(),[n,b]=a.useState(""),[t,p]=a.useState(""),[c,y]=a.useState(""),[l,v]=a.useState(""),[i,N]=a.useState(""),[d,C]=a.useState(""),[S,w]=a.useState([]),P=async()=>{if(!n||!t||!c){v(n?"":"Please enter a course name"),N(t?"":"Please enter a course price"),C(c?"":"Please enter a course description");return}try{const s=await h.post("/course",{courseName:n,coursePrice:t,courseDescription:c});j(s.data.message,{variant:"success",autoHideDuration:1500}),x(!o)}catch{j("something went Wrong",{variant:"error",autoHideDuration:1400}),x(!o)}},E=async s=>{await b(s.target.value);const r=await h.get(`/course/${s.target.value}`);console.log(r),p(r.data.cprice),y(r.data.cdesc)};return a.useEffect(()=>{(async()=>{let r=await h.get("/course/all");console.log(r),w(r.data)})()},[o]),e.jsxs("div",{className:"admin-courses",children:[e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"row my-3 col-md-6",children:e.jsxs(u,{error:!!l,children:[e.jsxs("strong",{className:"my-2 text-primary fw-bold",children:["Course Name ",e.jsx(M,{style:{color:"blueviolet"}})]}),e.jsxs(z,{labelId:"course-type-label",id:"course-type-select",placeholder:"Select Course",onChange:s=>E(s),children:[e.jsx(m,{value:"nums",children:"Nums"}),e.jsx(m,{value:"mdcat",children:"MdCat"}),e.jsx(m,{value:"mdcat+nums",children:"MdCat + Nums"})]}),l&&e.jsx("span",{className:"text-danger",children:l})]})}),e.jsx("div",{className:"row col-md-6 my-2",children:e.jsxs(u,{error:!!i,children:[e.jsxs("strong",{className:"my-2 text-primary fw-bold",children:["Course Price ",e.jsx(H,{style:{color:"goldenrod"}})]}),e.jsx(g,{type:"number",value:t,onChange:s=>p(s.target.value)}),i&&e.jsx("span",{className:"text-danger",children:i})]})}),e.jsxs("div",{className:"mx-2",children:[e.jsx("div",{className:"row my-4",children:e.jsxs(u,{error:!!d,children:[e.jsxs("strong",{className:"my-2 text-primary fw-bold",children:["Course description ",e.jsx(k,{style:{color:"teal"}})]}),e.jsx(g,{value:c,multiline:!0,rows:4,onChange:s=>y(s.target.value)}),d&&e.jsx("span",{className:"text-danger",children:d})]})}),e.jsx("div",{className:" my-4",children:e.jsx(I,{className:"pt-2",variant:"contained",color:"primary",onClick:P,children:"Submit"})})]})]}),e.jsx("div",{className:"container table-responsive mt-5 pt-1",children:e.jsxs("table",{className:"table table-striped table-hover table-primary rounded-4 shadow",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"No"}),e.jsx("th",{scope:"col",children:"Course Name"}),e.jsx("th",{scope:"col",children:"Course Price"}),e.jsx("th",{scope:"col",children:"Course description"})]})}),e.jsx("tbody",{children:S.map((s,r)=>e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:r+1}),e.jsx("td",{children:s==null?void 0:s.cname}),e.jsx("td",{children:s==null?void 0:s.cprice}),e.jsx("td",{children:e.jsx("textarea",{style:{resize:"none"},readOnly:!0,className:"form-control resize-none",children:s==null?void 0:s.cdesc})})]},r))})]})})]})};export{F as default};
